\documentclass[a4paper,oneside,12pt]{report}
\usepackage{graphicx,mathptmx}
\usepackage{geometry}
 \geometry{
 a4paper,
 %total={160mm,227mm},
 left=40mm,
 top=25mm,
 bottom=40mm, 
 right=25mm,
}
\renewcommand{\baselinestretch}{1.5} 

\usepackage{setspace}
\usepackage{tabu}
\usepackage[acronym]{glossaries}
\makeglossaries
\usepackage{import}
\usepackage{listings}
\usepackage{dirtytalk}
\usepackage{tabulary}

\usepackage{todonotes}
\newcommand{\db}[1]{\textcolor{blue!40}{#1}}
\newcommand{\dbc}[1]{\todo[author=Dilum, inline, color=blue!40]{#1}}

\begin{document}
\begin{titlepage}
    \begin{center}
        \Large{
        \textbf{WEATHER DATA INTEGRATION AND ASSIMILATION SYSTEM}}\\
        \vspace{144pt}
  \large      
        %\vspace{1cm}
      % by
       
        
        %\vspace{1.0cm}
        
        Gihan Chanuka Karunarathne\\
        \vspace{24pt}
       % \normalsize
      178004U\\
         \vspace{72pt}
        %\normalsize
        Degree of Master of Science\\
       
        %\centering
         %\includegraphics[width=0.4\textwidth]{0.Title_Page/uom.png}\\
            %\vspace{0.8cm}
         %\normalsize
        
        %\vfill
       \vspace{72pt}
        \large
        Department of Computer Science and Engineering\\
        \vspace{24pt}
        University of Moratuwa\\
        Sri Lanka\\
        \vspace{32pt}
        February 2020
        
    \end{center}
\end{titlepage}

\begin{titlepage}
    \begin{center}
       % \vspace*{1cm}
        \Large{
        \textbf{WEATHER DATA INTEGRATION AND ASSIMILATION SYSTEM}}\\
        \vspace{144pt}
  \large      

        Herath Mudiyanselage Gihan Chanuka Karunarathne\\
        \vspace{24pt}
       % \normalsize
        178008U\\
         \vspace{72pt}
        \normalsize
        Thesis submitted in partial fulfillment of the requirements for the degree Master of Science in Computer Science and Engineering\\
     
        %\vfill
       \vspace{72pt}
        \large
        Department of Computer Science and Engineering\\
        \vspace{24pt}
        University of Moratuwa\\
        Sri Lanka\\
        \vspace{32pt}
        February 2020
        
    \end{center}
\end{titlepage}

\pagenumbering{roman}

\newgeometry{left=4cm,top=0.5cm,right=2.5cm}
\chapter*{Declaration}
\addcontentsline{toc}{chapter}{Declaration}

I declare that this is my own work and this thesis does not
incorporate without acknowledgement any material previously submitted for a
Degree or Diploma in any other University or institute of higher learning and to
the best of my knowledge and belief it does not contain any material previously
published or written by another person except where the acknowledgement is
made in the text.

Also, I hereby grant to University of Moratuwa the non-exclusive right to
reproduce and distribute my thesis/dissertation, in whole or in part in print,
electronic or other medium. I retain the right to use this content in whole or part
in future works (such as articles or books).

\vspace{0.5in}
\noindent
\begin{tabu} to 1.0\textwidth { X[l] X[l] }
    Signature: & Date:
\end{tabu}



\vspace{0.5in}
\noindent
The above candidate has carried out research for the Masters thesis under our supervision.


\vspace{0.5in}
\noindent
\begin{tabu} to 1.0\textwidth { X[l] X[l] }
    Name of the supervisor: & Dr. HMN Dilum Bandara\\ [1.5ex]
    Signature of the supervisor: & Date:
\end{tabu}

\restoregeometry
\normalsize


\newgeometry{left=2.5cm,top=0.2cm,right=2cm}
\addcontentsline{toc}{chapter}{Abstract} 
{\setstretch{1.0} 
\chapter*{Abstract}
%\chapter*{\hspace{1cm} Abstract}

%To enhance the accuracy of weather predictions, it is necessary to provide reliable and detailed weather data as inputs to \acrfull{nwm}. These \acrshort{nwm} 
\acrfull{nwm} utilize data collected via diverse sources such as automated weather stations, radars, air balloons, and satellite images. Prior to feeding such %diverse 
multimodal data (collected from different sources that belong to different stakeholders) into respective \acrshort{nwm}, it is necessary to integrate data into a common format. Moreover, the data integration system’s response time need to be relatively low to %accommodate critical situations 
forecast and monitor time-sensitive weather events like hurricanes, storms, and flash floods that require rapid and frequent execution of \acrshort{nwm}. Providing public to access weather data is also useful to enable many third-party applications and research. For example, logistic companies could use those data within their models to plan and schedule deliveries. Agricultural insurance companies can warn the farmers in advance, as well as calculate premiums based on anticipated weather patterns.

%While \acrfull{dias} and \acrfull{madis} are some of well-known Weather Data Integration and Assimilation (WDIA) systems, they are proprietary. Further Delft-FEWS is free to use, it is not open source. Hence, users of WDIA are forced to pay heavy licenses and are unable to extend the solutions to cater to their country-specific requirements. Therefore, the objective of this research is to develop a WDIA system for Sri Lanka, as well as make it open source, so that others could user and contribute to the solution.

\dbc{Add a set of sentences covering the why a new solution is needed, what sort of a solution we propose, how does the proposed solution work, why it's unique, and its performance. Abstract should not exceed 300 words. Typically background given in above para should not be more than 1/3 of abstract.}

\vspace{4mm}

\textbf{Keywords:} WDIAS, Weather, Timeseries, Distributed, Scalable
\dbc{Sort these. Add 2 more CS related terms. Remove WDIAS.}
}
\restoregeometry
\normalsize

\addcontentsline{toc}{chapter}{Dedication} 
\chapter*{Dedication}
I dedicate my thesis work to my family, teachers and specially friends at \acrfull{curw}. A special feeling of gratitude to my loving parents, Nandawathi Dissanayake and H.M.K. Karunarathne whose words of encouragement and push for tenacity ring in my ears. My wife Jayani Kumarasinghe have never left my side and are very special.

I also dedicate this thesis to my many friends at \acrshort{curw} who have supported and be with me during this period of time. Also special thanks to Dr. Dilum Bandara and Dr. Srikantha Herath for giving me this wonderful opportunity to explore this new domain.

\addcontentsline{toc}{chapter}{Acknowledgements} 
\chapter*{Acknowledgements}
I wish to thank my evaluation panel members who were more than generous with their expertise and precious time. A special thanks to Dr. Dilum Bandara, my research supervisor for his countless hours of reflecting, reading, encouraging, and most of all patience throughout the entire process. Thank you Dr. Dilika Peris, and Dr. Indika Perera for agreeing to serve on my evaluation panel and Dr. Srikantha Herath for agreeing to serve as my external supervisor.

I would like to acknowledge and thank Department of Computer Science and Engineering, University of Moratuwa, for allowing me to conduct my research and providing any assistance requested. Special thanks goes to both academic and non-academic staff of the department for their continued support. I also gratitude to the University of Moratuwa for the financial support as the research was supported in part by the Senate Research Grant of the University of Moratuwa under award number SRC/LT/2017/01.

Finally, I would like to thank the teachers, evaluating panel and colleagues that assisted me with this project. Their excitement and willingness to provide feedback made the completion of this research an enjoyable experience.

\tableofcontents

\addcontentsline{toc}{chapter}{List of Figures}
\dbc{Reference numbers should ideally not be listed with Figure names.}
\listoffigures

\addcontentsline{toc}{chapter}{List of Tables} 
\listoftables

\addcontentsline{toc}{chapter}{List of Abbreviations} 
\printglossary[type=\acronymtype, title=List of Abbreviations, toctitle=List of Abbreviations, nonumberlist]
\dbc{There has to be a space/tab between abbreviation and its expansion.} 
\pagenumbering{arabic}

\chapter{Introduction}
\label{ch:intro}

\dbc{It could have been much more easier to modify and compile thesis if each chapter was on a separate file. Page nos should be Roman numerals until Chap 1 beings.}

...
\dbc{Start the para with a couple of sentences/para on weather prediction and NWMs. In another para mention about CUrW and its need to integrate and share data. Give citations of 1-2 good introductory sources on NWMs and another citation to CUrW website.}

\section{Motivation}
To enhance the accuracy of weather predictions, it is necessary to provide reliable and detailed weather data as inputs to \acrfull{nwm}. These NWMs utilize \db{multimodal} weather data collected via diverse sources such as automated weather stations, radars, air balloons, and satellite images. Prior to feeding such diverse data (collected from different sources that belongs to different stakeholders) into respective NWMs, it is necessary to integrate data into a common format. Moreover, the data integration system’s response time need to be relatively low to %accommodate critical situations 
\db{forecast and monitor time-sensitive weather events} like hurricanes, storms, and floods which require rapid and frequent execution of NWMs.

\dbc{We are not developing this platform only because we need to have a common data format or need to share with 3rd parties. These are secondary reasons. Highlight key reason why we need a weather data assimilation system. Key reason should be indicated in Abstract too.}

Providing public to access weather data is also useful to enable many third-party applications and research. For example, logistic companies could use those data with their models to plan and schedule their deliveries. Agricultural insurance companies can warn the farmers in advance, as well as calculate premiums based on anticipated weather patterns.
\dbc{Highlight why we need a platform to provide such 3rd party access. Should be indicated in Abstract too.}

While Data Integration and Analysis System (DIAS) and Meteorological Assimilation Data Ingest System (MADIS) are some of well-known Weather Data Integration and Assimilation (WDIA) systems, they are proprietary. Further Delft-FEWS is free to use, it is not open source. Hence, users of WDIA are forced to pay heavy licenses and are unable to extend the solutions to cater to their country-specific requirements. Therefore, the objective of this research is to develop a WDIA system for Sri Lanka, as well as make it open source, so that others could user and contribute to the solution.
\dbc{Saying something proprietary is not good reason to do research. You should highlight the context under which these solutions are developed and differences between CUrW and Sri Lanka in general. Also, give a bit more details than saying "to cater to their country-specific requirements". All key systems such as DIAS, MADIS, Delf, etc. need to be properly cited.}


\section{Problem \db{Statement}}
\dbc{Convert following bullets to a paragraph. Goals belongs to next section. What we need here is a set of sentences highlighting the needs that are used to derive goals. Then provide a single sentence problem statement. Look at some of the thesis I shared via OneNote and my website for example problem statements.}
\begin{itemize}
    \item Handling spatio-temporal weather data is challenging
    \item Need an extendable system to support weather models by efficiently storing and retrieving data
    \item Goal is to design and develop a Weather Data Integration and Assimilation System that,
    \begin{itemize}
        \item Integrates weather data from different sources with quality control
        \item Efficiently store spatio-temporal weather data with multiple dimensions
        \item Support geographical and time-base queries
    \end{itemize}
\end{itemize}

\section{Objectives}
\db{We address above problem statement by  achieving the following objectives:}
\begin{itemize}
    \item To develop an open platform to integrate weather data from different sources in different formats
    \item To design and develop a schema to store multidimensional weather timeseries data while optimizing access time, availability, and storage.
    \item To optimize schema to support data queries based on geography and time
    \item To develop an API to share data while providing role-based access control
\end{itemize}

\section{Outline}
The rest of the thesis is organized as follows. Literature review is presented in Chapter \ref{ch:literature}. Solution approach with the proposed system architectures and adaptation with problem occurred are presented in Chapter \ref{ch:method}. Performance analysis is presented in Chapter \ref{ch:results} while summary and future work are presented in Chapter \ref{ch:conc}.
\dbc{Expand a bit by adding at least 1 more sentence for each chapter.}





\chapter{Literature Review}
\label{ch:literature}
There are many of Weather forecasting, assimilation and dissemination systems developed by some of developed countries around the world as a result of trying to reduce the damage causing by natural disasters such as flood, storms, hurricanes, and even for drought. %Above kind of 
Such natural disasters heavily affected on the economy and the life conditions of the country, researchers have developed systems and many of these systems are using as proprietary systems. Other countries also using those systems and adopt with own version of system which effective for the specific weather condition in a particular country. 
%Though out 
This chapter presents a Literature review on existing systems and their architecture approach and design with available resources. \db{In Section 2.x we present ...} Most influenced systems for \acrshort{wdias} is \acrshort{fews} and \acrfull{lead} system. \acrshort{fews}, \db{an open data handling platform distributed as closed-source software, is presented in Section 2.x}. \db{In Section 2.x ... } \acrshort{lead} is following the Service Oriented Architecture for system architecture. Under each system we explore both system architecture, scalability and flexibility of the system.
\dbc{Complete above while refering to all major sections with chapter.}

\import{lit/}{sec_1-fews.tex}

\import{lit/}{sec_2-lead.tex}

\section{Data Integration and Assimilation Systems}
\label{se:dias}

\section{Meteorological Assimilation Data Ingest System}
\label{se:madis}

\section{Summary}


\chapter{\db{Research Methodology}}
\label{ch:method}
This chapter includes the design decision taken while implementing the \acrfull{wdias}, and how is the system got adapted from the systems analyzed in Chapter \ref{ch:literature}, then how is it trying to propose a better system with overcoming the issues.
\dbc{Add a couple of sentences to indicate what is covered in each Section. Do this in all chapters except in Chap 1.}

\dbc{It should be References not Bibliography. This must follow IEEE style}

\import{method/}{sec_0_introduction.tex}
\label{se:method_intro}

\import{method/}{sec_1-soa.tex}
\label{se:soa}

\import{method/}{sec_2-actor_model.tex}
\label{se:actor_model}

\import{method/}{sec_3-microservice.tex}
\label{se:microservice}

\import{method/}{sec_4-db_struct.tex}
\label{se:db_struct}

\import{method/}{sec_5-data_preprocess.tex}
\label{se:data_preprocess}

\import{method/}{sec_6-query.tex}
\label{se:query}

\chapter{Results}
\label{ch:results}

\import{results/}{sec_0-introduction.tex}
\label{se:results_intro}

\import{results/}{sec_1-test_plan.tex}
\label{se:test_plan}

\import{results/}{sec_2-work_load.tex}
\label{se:work_load}

\import{results/}{sec_3-observations.tex}
\label{se:observations}

\import{results/}{sec_4-conclusion.tex}
\label{se:conclusion}

\chapter{\db{Summary}}
\label{ch:conc}

\import{summary/}{sec_1-summary.tex}



\import{summary/}{sec_2-future_work.tex}

\appendix
\chapter{First Appendix}
Type out your first appendix here.
\section{Basics}

\chapter{First Appendix}
Type out your second appendix here.

\graphicspath{ {./images/} }
\input{glossary.tex}
\bibliographystyle{plain}
\bibliography{mendeley}
\end{document}