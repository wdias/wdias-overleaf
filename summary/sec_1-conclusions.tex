\section{Conclusions}
\label{se:summary_conclusion}

To enhance the accuracy of the weather prediction, it is required to have reliable weather data for \acrshort{nwm}. Even though there are many data integration systems, most of them are proprietary or close sourced. Which means for an island like Sri Lanka that having different kinds of weather seasons over the year than those software originated need to be highly customized. Throughout the operations and maintenance, it is required to get support with paying lots of charges, and difficult to debug into a closed source system without maintenance support from the vendors. Also most of existing systems are not up to date with the existing cloud computing technologies, or bias to some research community.
We proposed an extendable open source Weather Data Integration and Assimilation Systems which is known as \acrshort{wdias}. It focused on providing efficiently integrates weather data from different sources with quality control and supporting steaming large size of data. And compatible with current cloud computing technologies and architecture patterns.

First the architecture of \acrshort{wdias} starts with \acrshort{soa} using a \acrfull{esb}, and then moved to Actor model based architecture. After comparing the disadvantages of using such architectures with the system requirements, final architecture come up with modern microservice architecture.
\acrshort{wdias} implemented the microservice architecture on top of the \acrshort{k8s}. Each microservice of \acrshort{wdias} is mapped to a pod in the \acrshort{k8s}. Also each microservice follows the concept of Smart endpoints dumb pipes, and do specific operations which are related to the data format that responsible for handling.

Based on the microservice architecture patterns and the nature of the weather metadata, the \acrshort{wdias} came up with the idea of hierarchical database structure in order to provide higher performance while store the weather data optimum. The system uses timeseries database for storing Scalar and Vector timeseries data, and using \acrshort{netCDF} for storing Grid timeseries data. And each database adapter uses concept of database per service which allows each microservice service to scale without interference from other microservices.
And it uses microservice sagas pattern for asynchronous data handling for requests with higher size. According to the section \ref{se:microservice}, it uses the many of the concept of modern microservice architecture to create stateless, failover, redundant microservice to achieve such capabilities.

Also the system provide a generic open mechanism to integrate new modules as extension in order to enhance the features of the system. This capability enable to integrate weather data preprocessing flows as extension modules.
The extension API provide easy access to create and modify the extension triggers on the fly without stopping the system or any downtime in order to change the configurations.
The system provides extensive timeseries query endpoints to easy search over the system timeseries metadata with supporting Geo based queries.

\acrshort{wdias} load testing is perform using the \acrshort{jmeter} tool's distributed testing capabilities. Then the test plans are performed with increasing the request size, and monitored the performance metrics. The system is setup on the \acrfull{eks} as per the configurations of \ref{subse:test_sys_config}. Based on the observations, the system were able to handle 300 \acrshort{rps} (which means 18,000 requests per minute) successfully with minimizing the error rate to zero. Also while increasing the request size from 24 to 96 data points per Scalar and Vector timeseries, and number of ASCII Grid files from 24 to 96, the \acrshort{wdias} was able to perform same while keeping the latency constant without any significant change.
During the performance test plans, the system were able to provide increase the throughput by keeping the latency constant while increasing the workload. Which exhibit the scalability of the system.
With the \acrshort{k8s} auto scaling, the \acrshort{wdias} were able to elastically adjust the number of pods according to the workload with auto scaling configurations. 
The results of \acrshort{wdias} shows that the system can run from 1 CPU node to nodes with few hundred CPUs.