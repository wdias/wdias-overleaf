\section{Conclusions}
\label{se:summary_conclusion}

To enhance the accuracy of the weather prediction, we need to provide reliable and timely weather data for NWMs. Even though there are many weather data integration systems, most of them are proprietary or closed source. Thus, for an island like Sri Lanka that has different kinds of weather seasons yearly, those software needs to be highly customized. Also, most of the existing systems are based on basic client-server architectures or monolithic distributed system architectures or developed based on the best technology available at the time of developing those systems. However, most of the concepts are outdated with the technology advancement, and we can not get the full advantage of modern computational models such as containerized applications and using the cloud computing to gain benefits of scalability, high availability, and low-cost operations.

In this research, we proposed an extendable weather data integration and assimilation system known as \acrfull{wdias}. \acrshort{wdias} focuses on providing a system to efficiently integrate weather data from different sources with quality control and supporting steaming large size of data. Furthermore, the proposed system is compatible with current cloud computing technologies, architecture patterns, and compatible with modern cloud computing architectures.

First, the architecture of \acrshort{wdias} starts with \acrshort{soa} using an \acrfull{esb} and then moved to actor model-based architecture. After comparing the disadvantages of using such architectures with the system requirements, we came up with modern microservice architecture. \acrshort{wdias} implemented the microservice architecture on top of the \acrshort{k8s}, which is a container orchestration platform. We mapped each microservice of \acrshort{wdias} to a pod in the \acrshort{k8s} cluster. Also, each microservice follows the concept of smart endpoints dumb pipes[?] and does specific operations that are related to the data format that responsible for handling.
\dbc{Need to explain the solution based on microservices as it's the most important. Also, a reference is missing here}

Based on the microservice architecture patterns and the nature of the weather metadata, we designed database structure of \acrshort{wdias} to provide higher performance while storing the weather data efficiently. The system uses a timeseries database for storing scalar and vector timeseries data and using netCDF for storing grid timeseries data. Also, each database has an adapter, and each adapter uses the concept of database per service, which allows each microservice service to scale without getting interference from other microservices.
Moreover, it uses the microservice sagas pattern for asynchronous data handling for requests with a larger size. As discussed in \cref{se:microservice}, we used many of the concepts of modern microservice architecture to create stateless, failover, redundant microservice to achieve such capabilities.

Also, the system provides a generic open mechanism to integrate new modules as an extension to enhance the features of the system. This capability enables us to integrate weather data preprocessing flows as extension modules.
We designed an extension API to easily access to create and modify the extension triggers at runtime without stopping the system or any downtime for the system reconfiguration. The system provides extensive timeseries query endpoints to easy search over the stored timeseries metadata with supporting Geo-based queries.

%Further, we performed load tests using the JMeter toolâ€™s distributed testing capabilities. Then the test plans are performed with increasing the request size and monitoring the performance metrics. 
We evaluated the performance using a cloud-based setup on the Amazon Elastic Kubernetes Service (Amazon EKS). % as per the system setup configurations of \cref{subse:test_sys_config}. 
Based on the performance analysis, we were able to perform 300 \acrshort{rps}, and the system handled the workload successfully with minimizing the error rate. Also, while we increased the request size from 24 to 96 data points per scalar and vector timeseries, and the number of ASCII Grid files from 24 to 96, the \acrshort{wdias} was able to provide the same throughput while keeping the latency constant. Likewise, the system was able to provide an increase in the throughput by keeping the latency constant while increasing the workload. Thus, we can conclude that the system is scalable. With \acrshort{k8s} auto-scaling enabled, the \acrshort{k8s} elastically adjust the number of pods according to the workload with provided auto-scaling configurations. The results of \acrshort{wdias} shows that the system can run on a cluster from 1 CPU node to nodes with a few hundred CPUs.
