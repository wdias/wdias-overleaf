This chapter includes the summary of the WDIAS. In \cref{se:summary_conclusion}, we summarize and conclude the research. \cref{se:research_limitations} includes the limitations of this research, and future improvements that can increase the performance and usability of the WDIAS.

\section{Conclusions}
\label{se:summary_conclusion}

To enhance the accuracy of the weather forecast, we need to provide reliable and timely weather data for \acrshort{nwm}s. Also, most of the existing weather data integration systems are based on basic client-server architectures or monolithic distributed system architectures or developed based on the best technology available at the time of developing those systems. However, most of the concepts are outdated with the technology advancement, and we cannot get the full advantage of modern computational models such as containerized applications and using the cloud computing to gain benefits of scalability, high availability, and low-cost operations. Even though there are many weather data integration systems, most of them are proprietary or closed source. Thus, for an island like Sri Lanka that has different kinds of weather seasons yearly, those software needs to be highly customize.

In this research, we proposed an extendable open source weather data integration and assimilation system known as \acrfull{wdias} \cite{KarunarathneWeatherCode}. \acrshort{wdias} focuses on providing a system to efficiently integrate weather data from different sources with supporting quality control. Furthermore, the proposed system is compatible with current cloud computing technologies, architecture patterns, and compatible with modern cloud computing architectures.

First, the architecture of \acrshort{wdias} starts with \acrshort{soa} using an \acrfull{esb} and then moved to actor model-based architecture. After comparing the disadvantages of using such architectures with the system requirements, we came up with modern microservice architecture. One of attractive feature of microservice architecture is independent nature of microservices enables to design a highly scalable modular system which can use to handle large volumes of data using a large resource pool. Also, we used many of the concepts of modern microservice architecture to create stateless, failover, redundant microservice to achieve such capabilities. \acrshort{wdias} implemented the microservice architecture on top of the \acrshort{k8s}, which is a container orchestration platform \cite{GihanChanukaKarunarathne2020WDIAS:System}. We mapped each microservice of \acrshort{wdias} to a pod in the \acrshort{k8s} cluster. Also, each microservice exposed endpoints to the users which are only focus on supporting a specific operation or functionality which follows the concept of smart endpoints dumb pipes. For importing different format data into the system, we added microservice for each data format that known as import microservices. Then, these import microservices store the data via an appropriate database adapter microservice after converting to compatible data format. For handling multiple data formats efficiently, we introduced a database structure in WDIAS. Then, users can fetch data in the required format via using export microservices. Further, we enabled integrating extensional microservices which provides the data preprocessing capabilities, and it allow users to integrate new features as new extension microservices. We used geo-index to support geo-based search queries and metadata search queries. Also, the system provides asynchronous request handling based on the request size with maintaining status per request.

Compared to other existing weather data integration and assimilation systems, WDIAS has the advantage of taking full advantage of cloud computing technologies to implement a highly scalable and available system at low-cost. Because it uses containerized applications to implement the microservices, it allows independent service deployments. Each microservice can scale independently without affecting other microservices. Further, each microservice could use a suitable technology stack for the task. \acrshort{fews}, \acrshort{madis}, and \acrshort{msm} have platform dependencies, and some of the deployments are performed by copy-pasting source codes. The \acrshort{fews} and \acrshort{msm} provide a centralized data storage mechanism that  can become a bottleneck while processing a large volume of data in critical situations. \acrshort{madis} and \acrshort{dias} also support data storage arrays to store data. WDIAS and \acrshort{lead} can support a pool of resources based on the requirement.
Like other systems, WDIAS provides data preprocessing capabilities, and users can integrate new data preprocessing capabilities by implementing them as independent containerized microservice applications. Even though \acrshort{fews}, \acrshort{lead}, and \acrshort{msm} provide workflow engine support and model execution support, these can be achieved using an external workflow management system by fulfilling the data requirements via WDIAS. Further, WDIAS is an extendable open framework such that similar capabilities can be integrated as a new extension module system. Compared to other existing systems, the \acrshort{lead} is more scalable and is implemented using \acrshort{soa} architecture. However, with the help of modern container orchestration frameworks, such as Kubernetes and cloud computing technologies, those can provide high scalability and high availability as inherent capabilities. Those are mature enough to provide fault-tolerance automatically \cite{Scolati2019ADevices}. Implementing the deployment units as containerized applications based on the modern architecture patterns allows WDIAS to implement a highly scalable and high available system without heavy effort on those features.  A comparison  between WDIAS and other systems are presented in Table \ref{tab:architecture_comparison}.

Based on the microservice architecture patterns and the nature of the weather metadata, we designed database structure of \acrshort{wdias} to provide higher performance and efficient storage. The system uses a timeseries database to store scalar and vector timeseries data and use netCDF for grid timeseries data. Also, each database has an adapter, and each adapter uses the concept of database per service, which allows each microservice service to scale without getting interference from other microservices.
Moreover, it uses the microservice sagas pattern for asynchronous data handling for requests with a larger size.

Also, the system provides a generic mechanism to integrate new modules as an extension to enhance the features of the system. This capability enables us to integrate weather data preprocessing flows as extension modules.
We designed an extension API to easily create and modify the extension triggers at run time without stopping the system or any downtime for the system reconfiguration. The system provides extensive timeseries query endpoints to easy search over the stored timeseries metadata with supporting geo-based queries.

We evaluated the performance using a cloud-based setup on the \acrfull{eks}.
Based on the performance analysis, we were able to perform 300 \acrshort{rps}, and the system handled the workload successfully with minimizing the error rate. Also, while we increased the request size from 24 to 96 data points per scalar and vector timeseries, and the number of ASCII Grid files from 24 to 96, \acrshort{wdias} was able to provide the same throughput while keeping the latency constant. Likewise, the system was able to provide an increase in the throughput by keeping the latency constant while increasing the workload. Thus, we can conclude that the system is scalable. With \acrshort{k8s} auto-scaling enabled, the \acrshort{k8s} elastically adjust the number of pods according to the workload with provided auto-scaling configurations. The results of \acrshort{wdias} shows that the system can run on a cluster from few CPU node to nodes with a few hundred CPUs.
